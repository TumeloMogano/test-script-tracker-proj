<div class="container1">
    <div>
      <box-icon name='arrow-back' color='#001844' (click)="goBack()">Back</box-icon>
    </div>
    <div class="subheader1">
        <div>
            <h2>Create New Theme</h2>
            <form [formGroup]="themeForm" (ngSubmit)="createTheme()">
                <div class="row">
                    <div class="col">
                        <div class="form-group1">
                            <label>Theme Name:</label>
                            <input type="text" formControlName="themeName" class="form-control1" placeholder="Theme name" required>
                            <div *ngIf="themeForm.get('themeName')?.invalid && themeForm.get('themeName')?.touched">
                                <small class="text-danger" *ngIf="themeForm.get('themeName')?.errors?.['required']">Theme Name is required.</small>
                                <small class="text-danger" *ngIf="themeForm.get('themeName')?.errors?.['minlength']">Minimum length is 5 characters.</small>
                                <small class="text-danger" *ngIf="themeForm.get('themeName')?.errors?.['maxlength']">Maximum length is 15 characters.</small>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group1">
                            <label>Font Size:</label>
                            <input type="number" formControlName="fontSize" class="form-control1">
                            <div *ngIf="themeForm.get('fontSize')?.invalid && themeForm.get('fontSize')?.touched">
                                <small class="text-danger" *ngIf="themeForm.get('fontSize')?.errors?.['required']">Font Size is required.</small>
                                <small class="text-danger" *ngIf="themeForm.get('fontSize')?.errors?.['fontSizeNotChanged']">Please change the font size from 0. </small>
                                <small class="text-danger" *ngIf="themeForm.get('fontSize')?.errors?.['min']">Minimum font size is 8.</small>
                                <small class="text-danger" *ngIf="themeForm.get('fontSize')?.errors?.['max']">Maximum font size is 11.</small>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group1">
                            <label>Font:</label>
                            <select formControlName="fontId" class="form-control1">
                                <option *ngFor="let font of fonts" [value]="font.fontId">{{ font.fontName }}</option>
                            </select>
                            <div *ngIf="themeForm.get('fontId')?.invalid && themeForm.get('fontId')?.touched">
                                <small class="text-danger" *ngIf="themeForm.get('fontId')?.errors?.['required']">Font selection is required.</small>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="row">
                    <div class="col">
                        <div class="form-group1">
                            <label>Colour Scheme:</label>
                            <input type="color" formControlName="colour" class="form-control1" style="height: 40px;">
                            <div *ngIf="themeForm.get('colour')?.invalid && themeForm.get('colour')?.touched">
                                <small class="text-danger" *ngIf="themeForm.get('colour')?.errors?.['required']">Colour selection is required.</small>
                                <small class="text-danger" *ngIf="themeForm.get('colour')?.errors?.['colorNotChanged']">Please select a different color.</small>
                                <small class="text-danger" *ngIf="themeForm.get('colour')?.errors?.['colorTooDark']">The selected color is too dark. Please choose a lighter color.</small>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div class="form-group1">
                            <label>Logo:</label>
                            <input type="file" (change)="onFileSelected($event)" class="form-control1">
                            <div *ngIf="logoError" class="text-danger">{{ logoError }}</div>
                            <div *ngIf="themeForm.get('logoImage')?.invalid && themeForm.get('logoImage')?.touched">
                                <small class="text-danger" *ngIf="themeForm.get('logoImage')?.errors?.['required']">Logo image is required.</small>
                                <small class="text-danger" *ngIf="themeForm.get('logoImage')?.errors?.['invalidFileType']">Only image files (PNG, JPEG, JPG) are allowed.</small>
                            </div>
                        </div>
                    </div>
                    <div class="col">
                        <div *ngIf="themeForm.get('logoImage')?.value && !themeForm.get('logoImage')?.errors">
                            <h6>Selected Logo:</h6>
                            <img [src]="themeForm.get('logoImage')?.value" alt="Selected Logo" style="max-width: 200px;">
                        </div>
                    </div>
                </div>
                <div class="d-flex justify-content-center">                    
                    <button type="submit" class="btn1 btn-primary1" style="margin-right: 10px;">Submit</button>
                    <button (click)="goBack()" class="btn1 btn-cancel1">Cancel</button>
                </div>
            </form>
        </div>
    </div>
</div>
